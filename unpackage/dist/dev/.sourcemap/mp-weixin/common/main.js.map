{"version":3,"sources":["uni-app:///main.js","webpack:///D:/crmeb/CRMEB-v4.3.0/template/uni-app/App.vue?6863","webpack:///D:/crmeb/CRMEB-v4.3.0/template/uni-app/App.vue?6529",null,"webpack:///D:/crmeb/CRMEB-v4.3.0/template/uni-app/App.vue?e0cd","uni-app:///App.vue"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","Vue","prototype","$util","util","$config","configs","$Cache","Cache","$eventHub","$socket","socket","config","productionTip","component","skeleton","pageLoading","App","mpType","app","store","$mount"],"mappings":";;;;;;;;;;iDAAA;;;;;;;;;;;;AAYA;AACA;AACA;AACA;AACA;AACA;AACA,0F,ynCAjBA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,C,CAA2D;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AASAC,aAAIC,SAAJ,CAAcC,KAAd,GAAsBC,aAAtB,CACAH,aAAIC,SAAJ,CAAcG,OAAd,GAAwBC,YAAxB,CACAL,aAAIC,SAAJ,CAAcK,MAAd,GAAuBC,cAAvB,CACAP,aAAIC,SAAJ,CAAcO,SAAd,GAA0B,IAAIR,YAAJ,EAA1B,CACAA,aAAIC,SAAJ,CAAcQ,OAAd,GAAwB,IAAIC,iBAAJ,EAAxB,CACAV,aAAIW,MAAJ,CAAWC,aAAX,GAA2B,KAA3B,C,6lBAIAZ,aAAIa,SAAJ,CAAc,UAAd,EAA0BC,QAA1B;AACAd,aAAIa,SAAJ,CAAc,aAAd,EAA4BE,WAA5B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+CAC,aAAIC,MAAJ,GAAa,KAAb;;;AAGA,IAAMC,GAAG,GAAG,IAAIlB,YAAJ;AACLgB,YADK;AAEXG,OAAK,EAALA,cAFW;AAGXZ,OAAK,EAALA,cAHW,IAAZ;;AAKA,UAAAW,GAAG,EAACE,MAAJ,G;;;;;;;;;;;;;ACpFA;AAAA;AAAA;AAAA;AAAyiC,CAAgB,whCAAG,EAAC,C;;;;;;;;;;;ACA7jC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;ACNL;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACuD;AACL;AACa;;;AAG/D;AAC6L;AAC7L,gBAAgB,uMAAU;AAC1B,EAAE,yEAAM;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAkuB,CAAgB,+uBAAG,EAAC,C;;;;;;;;;;;;;ACCtvB;;;AAGA;;;AAGA;;;;AAIA;AACA;AACA;;;AAGA;;;AAGA;;;AAGA,sF;AACA;AACA,qUADA;AAEA;AACA,oUADA;AAEA;AACA,uUADA;AAEA;AACA,wUADA;AAEA;AACA,8TADA,C;;AAGA;AACA;AACA,WADA;AAEA,WAFA;AAGA,kBAHA;AAIA,gBAJA;AAKA,eALA;AAMA,qBANA;AAOA,mBAPA;AAQA,oBARA;AASA,mBATA,EADA;;AAYA,0BAZA;AAaA,yDAbA;AAcA;AACA;AACA,gBADA,EACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OARA,EADA;;AAWA,WAXA,mBAWA,OAXA,EAWA,CAXA,EAWA;AACA;AACA;AACA;AACA,kEADA;AAEA,4BAFA;;AAIA,OALA,MAKA;AACA;AACA,kEADA;;AAGA;AACA,KAvBA,EAdA;;AAuCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAxBA;;AA0BA,KA3BA;AA4BA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA,oIADA;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAjBA;;AAmBA;AACA;;AAEA;AACA;AACA,KAFA;;AAIA;AACA;AACA,qBADA;AAEA,mCAFA;AAGA;AACA;AACA;AACA;AACA;AACA,SARA;;AAUA,KAXA;;AAaA;AACA;AACA,wBADA;;AAGA,KAJA;;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA;;;AAMA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA,UADA,CACA;AACA;AACA,OAHA;AAIA,WAJA,CAIA;AACA;AACA,OANA;AAOA;;;;;;;;AAQA,GA1QA;AA2QA,SA3QA,qBA2QA,EA3QA;AA4QA;AACA;AACA,eAFA,uBAEA,IAFA,EAEA;AACA;AACA;AACA;AACA,kBADA;AAEA,2BAFA;AAGA,yCAHA;;AAKA,UALA,CAKA;AACA;AACA;AACA;AACA;AACA,iCADA;AAEA,sBAFA;;AAIA;AACA;AACA;AACA,OAhBA;AAiBA,WAjBA,CAiBA,iBAjBA;AAkBA,KAvBA,EA5QA;;AAqSA;;AAEA,GAvSA,E","file":"common/main.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;// +----------------------------------------------------------------------\n// | CRMEB [ CRMEB赋能开发者，助力企业发展 ]\n// +----------------------------------------------------------------------\n// | Copyright (c) 2016~2021 https://www.crmeb.com All rights reserved.\n// +----------------------------------------------------------------------\n// | Licensed CRMEB并不是自由软件，未经许可不能去掉CRMEB相关版权\n// +----------------------------------------------------------------------\n// | Author: CRMEB Team <admin@crmeb.com>\n// +----------------------------------------------------------------------\n\nimport Vue from 'vue'\nimport App from './App'\nimport store from './store'\nimport Cache from './utils/cache'\nimport util from 'utils/util'\nimport configs from './config/app.js'\nimport socket from './libs/new_chat.js'\nVue.prototype.$util = util;\nVue.prototype.$config = configs;\nVue.prototype.$Cache = Cache;\nVue.prototype.$eventHub = new Vue();\nVue.prototype.$socket = new socket();\nVue.config.productionTip = false\nimport pageLoading from './components/pageLoading.vue'\nimport skeleton from './components/skeleton/index.vue'\n\nVue.component('skeleton', skeleton)\nVue.component('pageLoading',pageLoading)\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nApp.mpType = 'app'\n\n\nconst app = new Vue({\n    ...App,\n\tstore,\n\tCache,\n})\napp.$mount();","import mod from \"-!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--6-oneOf-1-2!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1657846570382\n      var cssReload = require(\"D:/HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","var render, staticRenderFns, recyclableRender, components\nvar renderjs\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"App.vue\"\nexport default component.exports","import mod from \"-!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../HBuilderX.3.4.18.20220630/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./App.vue?vue&type=script&lang=js&\"","<script>\n\timport {\n\t\tcheckLogin\n\t} from './libs/login';\n\timport {\n\t\tHTTP_REQUEST_URL\n\t} from './config/app';\n\timport {\n\t\tgetShopConfig,\n\t\tsilenceAuth\n\t} from '@/api/public';\n\timport Auth from '@/libs/wechat.js';\n\timport Routine from './libs/routine.js';\n\timport {\n\t\tgetCartCounts,\n\t} from '@/api/order.js';\n\timport {\n\t\tcolorChange\n\t} from '@/api/api.js';\n\timport {\n\t\tmapGetters\n\t} from \"vuex\"\n\timport colors from '@/mixins/color.js';\n\tlet green =\n\t\t'--view-theme: rgba(66,202,77,1);--view-theme-16: #42CA4D;--view-priceColor:#FF7600;--view-minorColor:rgba(108, 198, 94, 0.5);--view-minorColorT:rgba(66, 202, 77, 0.1);--view-bntColor:#FE960F;--view-op-ten: rgba(66,202,77, 0.1);--view-main-start:#70E038; --view-main-over:#42CA4D;--view-op-point-four: rgba(66,202,77, 0.04);'\n\tlet red =\n\t\t'--view-theme: rgba(233,51,35,1);--view-theme-16: #e93323;--view-priceColor:#e93323;--view-minorColor:rgba(233, 51, 35, 0.5);--view-minorColorT:rgba(233, 51, 35, 0.1);--view-bntColor:#FE960F;--view-op-ten: rgba(233,51,35, 0.1);--view-main-start:#FF6151; --view-main-over:#e93323;--view-op-point-four: rgba(233,51,35, 0.04);'\n\tlet blue =\n\t\t'--view-theme: rgba(29,176,252,1);--view-theme-16:#1db0fc;--view-priceColor:#FD502F;--view-minorColor:rgba(58, 139, 236, 0.5);--view-minorColorT:rgba(9, 139, 243, 0.1);--view-bntColor:#22CAFD;--view-op-ten: rgba(29,176,252, 0.1);--view-main-start:#40D1F4; --view-main-over:#1DB0FC;--view-op-point-four: rgba(29,176,252, 0.04);'\n\tlet pink =\n\t\t'--view-theme: rgba(255,68,143,1);--view-theme-16:#ff448f;--view-priceColor:#FF448F;--view-minorColor:rgba(255, 68, 143, 0.5);--view-minorColorT:rgba(255, 68, 143, 0.1);--view-bntColor:#282828;--view-op-ten: rgba(255,68,143, 0.1);--view-main-start:#FF67AD; --view-main-over:#FF448F;--view-op-point-four: rgba(255,68,143, 0.04);'\n\tlet orange =\n\t\t'--view-theme: rgba(254,92,45,1); --view-theme-16:#FE5C2D;--view-priceColor:#FE5C2D;--view-minorColor:rgba(254, 92, 45, 0.5);--view-minorColorT:rgba(254, 92, 45, 0.1);--view-bntColor:#FDB000;--view-op-ten: rgba(254,92,45, 0.1);--view-main-start:#fff; --view-main-over:#fff;--view-op-point-four: rgba(254,92,45, 0.04);'\n\n\texport default {\n\t\tglobalData: {\n\t\t\tspid: 0,\n\t\t\tcode: 0,\n\t\t\tisLogin: false,\n\t\t\tuserInfo: {},\n\t\t\tMyMenus: [],\n\t\t\tglobalData: false,\n\t\t\tisIframe: false,\n\t\t\ttabbarShow: true,\n\t\t\twindowHeight: 0\n\t\t},\n\t\tmixins: [colors],\n\t\tcomputed: mapGetters(['isLogin', 'cartNum']),\n\t\twatch: {\n\t\t\tisLogin: {\n\t\t\t\tdeep: true, //深度监听设置为 true\n\t\t\t\thandler: function(newV, oldV) {\n\t\t\t\t\tif (newV) {\n\t\t\t\t\t\t// this.getCartNum()\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$store.commit('indexData/setCartNum', '')\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tcartNum(newCart, b) {\n\t\t\t\tthis.$store.commit('indexData/setCartNum', newCart + '')\n\t\t\t\tif (newCart > 0) {\n\t\t\t\t\tuni.setTabBarBadge({\n\t\t\t\t\t\tindex: Number(uni.getStorageSync('FOOTER_ADDCART')) || 2,\n\t\t\t\t\t\ttext: newCart + ''\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tuni.hideTabBarRedDot({\n\t\t\t\t\t\tindex: Number(uni.getStorageSync('FOOTER_ADDCART')) || 2\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tonLaunch: function(option) {\n\t\t\tlet that = this;\n\t\t\tcolorChange('color_change').then(res => {\n\t\t\t\tswitch (res.data.status) {\n\t\t\t\t\tcase 1:\n\t\t\t\t\t\tuni.setStorageSync('viewColor', blue)\n\t\t\t\t\t\tuni.$emit('ok', blue)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 2:\n\t\t\t\t\t\tuni.setStorageSync('viewColor', green)\n\t\t\t\t\t\tuni.$emit('ok', green)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 3:\n\t\t\t\t\t\tuni.setStorageSync('viewColor', red)\n\t\t\t\t\t\tuni.$emit('ok', red)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 4:\n\t\t\t\t\t\tuni.setStorageSync('viewColor', pink)\n\t\t\t\t\t\tuni.$emit('ok', pink)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 5:\n\t\t\t\t\t\tuni.setStorageSync('viewColor', orange)\n\t\t\t\t\t\tuni.$emit('ok', orange)\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tuni.setStorageSync('viewColor', red)\n\t\t\t\t\t\tuni.$emit('ok', red)\n\t\t\t\t\t\tbreak\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (option.query.spread) {\n\t\t\t\tthat.$Cache.set('spread', option.query.spread);\n\t\t\t\tthat.globalData.spid = option.query.spread;\n\t\t\t\tthat.globalData.pid = option.query.spread;\n\t\t\t}\n\t\t\t// #ifdef APP-PLUS || H5\n\t\t\tuni.getSystemInfo({\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t// 首页没有title获取的整个页面的高度，里面的页面有原生标题要减掉就是视口的高度\n\t\t\t\t\t// 状态栏是动态的可以拿到 标题栏是固定写死的是44px\n\t\t\t\t\tlet height = res.windowHeight - res.statusBarHeight - 44\n\t\t\t\t\t// #ifdef H5 || APP-PLUS\n\t\t\t\t\tthat.globalData.windowHeight = res.windowHeight + 'px'\n\t\t\t\t\t// #endif\n\t\t\t\t\t// // #ifdef APP-PLUS\n\t\t\t\t\t// that.globalData.windowHeight = height + 'px'\n\t\t\t\t\t// // #endif\n\n\t\t\t\t}\n\t\t\t});\n\t\t\t// #endif\t\n\t\t\t// #ifdef MP\n\t\t\tif (HTTP_REQUEST_URL == '') {\n\t\t\t\tconsole.error(\n\t\t\t\t\t\"请配置根目录下的config.js文件中的 'HTTP_REQUEST_URL'\\n\\n请修改开发者工具中【详情】->【AppID】改为自己的Appid\\n\\n请前往后台【小程序】->【小程序配置】填写自己的 appId and AppSecret\"\n\t\t\t\t);\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tif (option.query.hasOwnProperty('scene')) {\n\n\t\t\t\tswitch (option.scene) {\n\t\t\t\t\t//扫描小程序码\n\t\t\t\t\tcase 1047:\n\t\t\t\t\t\tlet val = that.$util.getUrlParams(decodeURIComponent(option.query.scene));\n\t\t\t\t\t\tthat.globalData.code = val.pid === undefined ? val : val.pid;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t//长按图片识别小程序码\n\t\t\t\t\tcase 1048:\n\t\t\t\t\t\tthat.globalData.code = option.query.scene;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t//手机相册选取小程序码\n\t\t\t\t\tcase 1049:\n\t\t\t\t\t\tthat.globalData.code = option.query.scene;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t//直接进入小程序\n\t\t\t\t\tcase 1001:\n\t\t\t\t\t\tthat.globalData.spid = option.query.scene;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t\tconst updateManager = wx.getUpdateManager();\n\n\t\t\tupdateManager.onCheckForUpdate(function(res) {\n\t\t\t\t// 请求完新版本信息的回调\n\t\t\t});\n\n\t\t\tupdateManager.onUpdateReady(function() {\n\t\t\t\twx.showModal({\n\t\t\t\t\ttitle: '更新提示',\n\t\t\t\t\tcontent: '新版本已经准备好，是否重启应用？',\n\t\t\t\t\tsuccess: function(res) {\n\t\t\t\t\t\tif (res.confirm) {\n\t\t\t\t\t\t\t// 新的版本已经下载好，调用 applyUpdate 应用新版本并重启\n\t\t\t\t\t\t\tupdateManager.applyUpdate();\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\n\t\t\tupdateManager.onUpdateFailed(function() {\n\t\t\t\treturn that.Tips({\n\t\t\t\t\ttitle: '新版本下载失败'\n\t\t\t\t});\n\t\t\t});\n\t\t\t// #endif\n\t\t\t// getShopConfig().then(res => {\n\t\t\t// \tthis.$store.commit('SETPHONESTATUS', res.data.status);\n\t\t\t// });\n\t\t\t// 获取导航高度；\n\t\t\tuni.getSystemInfo({\n\t\t\t\tsuccess: function(res) {\n\t\t\t\t\tthat.globalData.navHeight = res.statusBarHeight * (750 / res.windowWidth) + 91;\n\t\t\t\t}\n\t\t\t});\n\t\t\t// #ifdef MP\n\t\t\tlet menuButtonInfo = uni.getMenuButtonBoundingClientRect();\n\t\t\tthat.globalData.navH = menuButtonInfo.top * 2 + menuButtonInfo.height / 2;\n\t\t\t// #endif\n\n\t\t\t// #ifdef H5\n\t\t\tuni.getSystemInfo({\n\t\t\t\tsuccess(e) {\n\t\t\t\t\t/* 窗口宽度大于420px且不在PC页面且不在移动设备时跳转至 PC.html 页面 */\n\t\t\t\t\tif (e.windowWidth > 420 && !window.top.isPC && !/iOS|Android/i.test(e.system)) {\n\t\t\t\t\t\twindow.location.pathname = '/static/html/pc.html';\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\tif (option.query.hasOwnProperty('type') && option.query.type == \"iframeWindow\") {\n\t\t\t\tthis.globalData.isIframe = true;\n\t\t\t} else {\n\t\t\t\tthis.globalData.isIframe = false;\n\t\t\t}\n\n\t\t\tif (window.location.pathname !== '/') {\n\t\t\t\tlet snsapiBase = 'snsapi_base';\n\t\t\t\tlet urlData = location.pathname + location.search;\n\t\t\t\tif (!that.$store.getters.isLogin && uni.getStorageSync('authIng')) {\n\t\t\t\t\tuni.setStorageSync('authIng', false)\n\t\t\t\t}\n\t\t\t\tif (!that.$store.getters.isLogin && Auth.isWeixin()) {\n\t\t\t\t\tlet code,\n\t\t\t\t\t\tstate,\n\t\t\t\t\t\tscope = ''\n\n\t\t\t\t\tif (option.query.code instanceof Array) {\n\t\t\t\t\t\tcode = option.query.code[option.query.code.length - 1]\n\t\t\t\t\t} else {\n\t\t\t\t\t\tcode = option.query.code\n\t\t\t\t\t}\n\n\n\t\t\t\t\tif (code && code != uni.getStorageSync('snsapiCode') && location.pathname.indexOf(\n\t\t\t\t\t\t\t'/pages/users/wechat_login/index') === -1) {\n\t\t\t\t\t\t// 存储静默授权code\n\t\t\t\t\t\tuni.setStorageSync('snsapiCode', code);\n\t\t\t\t\t\tlet spread = that.globalData.spid ? that.globalData.spid : '';\n\t\t\t\t\t\tsilenceAuth({\n\t\t\t\t\t\t\t\tcode: code,\n\t\t\t\t\t\t\t\tspread: that.$Cache.get('spread'),\n\t\t\t\t\t\t\t\tspid: that.globalData.code\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.then(res => {\n\t\t\t\t\t\t\t\tuni.setStorageSync('snRouter', decodeURIComponent(decodeURIComponent(option.query\n\t\t\t\t\t\t\t\t\t.back_url)));\n\t\t\t\t\t\t\t\tif (res.data.key !== undefined && res.data.key) {\n\t\t\t\t\t\t\t\t\tthis.$Cache.set('snsapiKey', res.data.key);\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\tlet time = res.data.expires_time - this.$Cache.time();\n\t\t\t\t\t\t\t\t\tthis.$store.commit('LOGIN', {\n\t\t\t\t\t\t\t\t\t\ttoken: res.data.token,\n\t\t\t\t\t\t\t\t\t\ttime: time\n\t\t\t\t\t\t\t\t\t});\n\n\t\t\t\t\t\t\t\t\tthis.$store.commit('SETUID', res.data.userInfo.uid);\n\t\t\t\t\t\t\t\t\tthis.$store.commit('UPDATE_USERINFO', res.data.userInfo);\n\t\t\t\t\t\t\t\t\tif (option.query.back_url) {\n\t\t\t\t\t\t\t\t\t\tlocation.replace(decodeURIComponent(decodeURIComponent(option.query\n\t\t\t\t\t\t\t\t\t\t\t.back_url)));\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t.catch(error => {\n\t\t\t\t\t\t\t\tlet url = ''\n\t\t\t\t\t\t\t\tif (option.query.back_url instanceof Array) {\n\t\t\t\t\t\t\t\t\turl = option.query.back_url[option.query.back_url.length - 1]\n\t\t\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\t\t\turl = option.query.back_url\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\tif (!that.$Cache.has('snsapiKey')) {\n\t\t\t\t\t\t\t\t\tif (location.pathname.indexOf('/pages/users/wechat_login/index') === -1) {\n\t\t\t\t\t\t\t\t\t\tAuth.oAuth(snsapiBase, url);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tif (!this.$Cache.has('snsapiKey')) {\n\t\t\t\t\t\t\tif (location.pathname.indexOf('/pages/users/wechat_login/index') === -1) {\n\t\t\t\t\t\t\t\tAuth.oAuth(snsapiBase, urlData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t} else {\n\t\t\t\t\tif (option.query.back_url) {\n\t\t\t\t\t\tlocation.replace(uni.getStorageSync('snRouter'));\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t// #endif\n\t\t\t// #ifdef MP\n\t\t\t// 小程序静默授权\n\t\t\tif (!this.$store.getters.isLogin) {\n\t\t\t\tRoutine.getCode()\n\t\t\t\t\t.then(code => {\n\t\t\t\t\t\tthis.silenceAuth(code);\n\t\t\t\t\t})\n\t\t\t\t\t.catch(res => {\n\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t});\n\t\t\t}\n\t\t\t// #endif\n\t\t\t// #ifdef H5\n\t\t\t// 添加crmeb chat 统计\n\t\t\tvar __s = document.createElement('script');\n\t\t\t__s.src = `${HTTP_REQUEST_URL}/api/get_script`;\n\t\t\tdocument.head.appendChild(__s);\n\t\t\t// #endif\n\t\t},\n\t\tmounted() {},\n\t\tmethods: {\n\t\t\t// 小程序静默授权\n\t\t\tsilenceAuth(code) {\n\t\t\t\tlet that = this;\n\t\t\t\tlet spread = that.globalData.spid ? that.globalData.spid : '';\n\t\t\t\tsilenceAuth({\n\t\t\t\t\t\tcode: code,\n\t\t\t\t\t\tspread_spid: spread,\n\t\t\t\t\t\tspread_code: that.globalData.code\n\t\t\t\t\t})\n\t\t\t\t\t.then(res => {\n\t\t\t\t\t\tif (res.data.token !== undefined && res.data.token) {\n\t\t\t\t\t\t\tuni.hideLoading();\n\t\t\t\t\t\t\tlet time = res.data.expires_time - this.$Cache.time();\n\t\t\t\t\t\t\tthat.$store.commit('LOGIN', {\n\t\t\t\t\t\t\t\ttoken: res.data.token,\n\t\t\t\t\t\t\t\ttime: time\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\tthat.$store.commit('SETUID', res.data.userInfo.uid);\n\t\t\t\t\t\t\tthat.$store.commit('UPDATE_USERINFO', res.data.userInfo);\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t\t.catch(res => {});\n\t\t\t},\n\t\t},\n\t\tonHide: function() {\n\n\t\t}\n\t};\n</script>\n\n<style>\n\t@import url('@/plugin/emoji-awesome/css/google.min.css');\n\t@import url('@/plugin/animate/animate.min.css');\n\t@import 'static/css/base.css';\n\t@import 'static/iconfont/iconfont.css';\n\t@import 'static/css/guildford.css';\n\t@import 'static/css/style.scss';\n\n\tview {\n\t\tbox-sizing: border-box;\n\t}\n\n\tpage {\n\t\tfont-family: PingFang SC;\n\t}\n\n\t.bg-color-red {\n\t\tbackground-color: var(--view-theme) !important;\n\t}\n\n\t.syspadding {\n\t\tpadding-top: var(--status-bar-height);\n\t}\n\n\t.flex {\n\t\tdisplay: flex;\n\t}\n\n\t.uni-scroll-view::-webkit-scrollbar {\n\t\t/* 隐藏滚动条，但依旧具备可以滚动的功能 */\n\t\tdisplay: none;\n\t}\n\n\t::-webkit-scrollbar {\n\t\twidth: 0;\n\t\theight: 0;\n\t\tcolor: transparent;\n\t}\n\n\t.uni-system-open-location .map-content.fix-position {\n\t\theight: 100vh;\n\t\ttop: 0;\n\t\tbottom: 0;\n\t}\n</style>\n"],"sourceRoot":""}